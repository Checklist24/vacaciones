<!doctype html>

<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Faltan‚Ä¶ Vacaciones üéÑüèñÔ∏è</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-dark:#0a0f1a;
      --brand-red:#E53935;
      --brand-green:#2E7D32;
      --brand-gold:#F9C74F;
      --text:#ffffff;
      --muted:#c7d1e0;
    }html,body{ height:100%; background: var(--bg-dark); color:var(--text); }
body{ font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; }

/* Festive gradient + subtle pattern */
.bg-festive{
  position: fixed; inset:0; z-index:-2;
  background: radial-gradient(1200px 800px at 20% -10%, rgba(231,76,60,.25), transparent 70%),
              radial-gradient(1000px 700px at 120% 10%, rgba(46,125,50,.25), transparent 70%),
              linear-gradient(180deg, #0a0f1a 0%, #0a0f1a 60%, #0b1220 100%);
}
/* Repeating SVG pattern with snowflakes & palms */
.bg-pattern{
  position: fixed; inset:0; z-index:-1; opacity:.12; mix-blend-mode: screen;
  background-image: url('data:image/svg+xml;utf8,\
  <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120">\
    <g fill="white" opacity="0.9">\
      <path d="M60 10l3 8 8 3-8 3-3 8-3-8-8-3 8-3 3-8z"/>\
      <path d="M20 80c12-8 22-8 34 0-8 2-14 6-17 12-3-6-9-10-17-12z"/>\
      <circle cx="100" cy="30" r="4"/>\
      <circle cx="15" cy="20" r="2"/>\
      <circle cx="80" cy="100" r="2"/>\
    </g>\
  </svg>');
  background-size: 120px 120px; 
}

/* Snow animation */
.snow{position:fixed; inset:0; pointer-events:none; z-index:0;}
.snow i{position:absolute; top:-10px; width:6px; height:6px; border-radius:50%; background:white; opacity:.85; animation: fall linear infinite;}
@keyframes fall{ to{ transform: translateY(110vh) translateX(var(--wind, 0px)); } }

/* Card */
.wrap{ min-height:100dvh; display:grid; place-items:center; padding:2rem; }
.cardx{
  background: rgba(15,22,35,.6);
  border: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 10px 35px rgba(0,0,0,.45), inset 0 0 60px rgba(255,255,255,.03);
  border-radius: 24px; padding: clamp(1.25rem, 3vw, 2rem);
  backdrop-filter: blur(8px);
  width:min(100%, 980px);
}

/* Typography */
.lead-top{ font-family: Montserrat, Inter, sans-serif; font-weight:800; letter-spacing:.04em; text-transform:uppercase; }
.lead-top .red{ color:var(--brand-red); }
.lead-top .green{ color:var(--brand-green); }
.lead-top .gold{ color:var(--brand-gold); }

.big-number{ font-family: Montserrat, Inter, sans-serif; font-weight:800; line-height:1; 
  font-size: clamp(4rem, 15vw, 10rem); }
.label-days{ font-size: clamp(2rem, 6vw, 4rem); font-weight:800; }

.meta{ color:var(--muted); font-weight:600; letter-spacing:.04em; text-transform:uppercase; }

.divider{ opacity:.4; margin: 0 .4rem; }

.btn-festive{ 
  background: linear-gradient(135deg, var(--brand-red), var(--brand-green));
  color:white; font-weight:700; border:none;
}
.btn-festive:hover{ filter:brightness(1.05); }

.chip{ display:inline-flex; align-items:center; gap:.4rem; padding:.35rem .7rem; border-radius: 999px; font-weight:600; background: rgba(255,255,255,.08); color:#e3ecff; }

footer{ opacity:.75; }

  </style>
</head>
<body>
  <div class="bg-festive"></div>
  <div class="bg-pattern"></div>
  <div class="snow" id="snow"></div>  <main class="wrap">
    <section class="cardx text-center">
      <div class="d-flex justify-content-center gap-2 mb-3 flex-wrap">
        <span class="chip"><i class="bi bi-snow"></i> Navidad</span>
        <span class="chip"><i class="bi bi-tree"></i> Vacaciones</span>
        <span class="chip"><i class="bi bi-gift"></i> Tiempo de descanso</span>
      </div><p class="lead-top h4 mb-1">FALTAN</p>
  <div class="d-flex align-items-end justify-content-center gap-3 flex-wrap">
    <div class="big-number" id="days">00</div>
    <div class="label-days">D√çAS</div>
  </div>

  <p class="meta fs-6 mt-2 mb-4">
    <span id="hours">00</span> HORAS <span class="divider">|</span>
    <span id="minutes">00</span> MINUTOS <span class="divider">|</span>
    <span id="seconds">00</span> SEGUNDOS
  </p>

  <div class="row g-3 align-items-end justify-content-center">
    <div class="col-12 col-sm-7 col-md-6">
      <label for="date" class="form-label">Tus vacaciones comienzan el</label>
      <input type="datetime-local" id="date" class="form-control form-control-lg" />
    </div>
    <div class="col-auto">
      <button class="btn btn-lg btn-festive" id="saveBtn"><i class="bi bi-check2-circle me-1"></i>Guardar fecha</button>
    </div>
  </div>

  <div class="mt-4 small text-secondary">
    Consejo: guarda la fecha y este contador se mantendr√° cuando vuelvas ‚ú®
  </div>
</section>

<footer class="mt-4 text-center small text-light">
  Hecho con <i class="bi bi-heart-fill"></i> pensando en tu descanso.
</footer>

  </main>  <script>
    // --- Utilities ---
    const $ = (sel)=>document.querySelector(sel);
    const daysEl = $('#days');
    const hoursEl = $('#hours');
    const minutesEl = $('#minutes');
    const secondsEl = $('#seconds');
    const inputDate = $('#date');

    // Default: 20 de diciembre del a√±o actual a las 09:00
    function getDefaultDate(){
      const now = new Date();
      const year = now.getMonth() > 11 || (now.getMonth() === 11 && now.getDate() > 20) ? now.getFullYear()+1 : now.getFullYear();
      return new Date(`${year}-12-20T09:00:00`);
    }

    function loadDate(){
      const saved = localStorage.getItem('vacationDate');
      return saved ? new Date(saved) : getDefaultDate();
    }

    function saveDate(date){
      localStorage.setItem('vacationDate', date.toISOString());
    }

    let target = loadDate();

    // Set input initial value in local tz
    function setInputFromDate(date){
      const tzOffset = date.getTimezoneOffset(); // minutes
      const local = new Date(date.getTime() - tzOffset*60000);
      inputDate.value = local.toISOString().slice(0,16);
    }
    setInputFromDate(target);

    $('#saveBtn').addEventListener('click', ()=>{
      const val = inputDate.value;
      if(!val) return;
      // Interpret as local time and convert to real Date
      const local = new Date(val);
      const real = new Date(local.getTime());
      target = real;
      saveDate(target);
      tick();
    });

    // Countdown logic
    let timer;
    function plural(n, s){ return n===1 ? s.slice(0,-1) : s; }

    function tick(){
      const now = new Date();
      const diff = target - now;
      if(diff <= 0){
        clearInterval(timer);
        daysEl.textContent = '0';
        hoursEl.textContent = '0';
        minutesEl.textContent = '0';
        secondsEl.textContent = '0';
        document.title = '¬°Llegaron las vacaciones! üéâ';
        return;
      }
      const s = Math.floor(diff/1000);
      const days = Math.floor(s/86400);
      const hours = Math.floor((s%86400)/3600);
      const mins = Math.floor((s%3600)/60);
      const secs = s%60;

      daysEl.textContent = days.toString().padStart(2,'0');
      hoursEl.textContent = hours.toString().padStart(2,'0');
      minutesEl.textContent = mins.toString().padStart(2,'0');
      secondsEl.textContent = secs.toString().padStart(2,'0');
      document.title = `Faltan ${days} ${plural(days,'d√≠as')} ‚Äì Vacaciones`;
    }
    timer = setInterval(tick, 1000); tick();

    // --- Snow generator ---
    const snow = document.getElementById('snow');
    const FLAKES = 90; // responsive amount
    for(let i=0;i<FLAKES;i++){
      const f = document.createElement('i');
      const size = Math.random()*4+2; // 2-6px
      f.style.width = size+'px';
      f.style.height = size+'px';
      f.style.left = Math.random()*100+'vw';
      f.style.animationDuration = (Math.random()*6+6)+'s';
      f.style.animationDelay = (Math.random()*-10)+'s';
      f.style.setProperty('--wind', (Math.random()*40-20)+'px');
      f.style.opacity = (Math.random()*0.6+0.4).toFixed(2);
      snow.appendChild(f);
    }
  </script></body>
</html>
